**********************************************************************
INTRODUÇÃO 
1.Atalhos para o terminal shell: Crtl+Alt+T
2.Atalho para troca entre os terminais do Linux: Crtl+Alt+ (F1 ao F7) onde
o F7 é a interface gráfica e F1 ao F6 os terminais do shell. 
3.Ctrl+C aborta o comando atual na linha
4.No Shell a formatação é <nome usuário>@<nome máquina>:<diretório atual>$
5.O caractere "~" representa o diretório Home do usuário
6.A tecla "TAB" é o autocomplete
7.Para comandos sequenciais usar ";" Ex.$clear; date

$man <comando>	help dos comandos (manual do comando)
$clear		Limpa a tela

********************************************************************
COMANDOS DE MANUPULAÇÃO INTERNA DE ARQUIVOS
$cat <arquivo texto>	Mostra o conteúdo do arquivo de texto
$grep "<string>" *txt	Procura em todos os arquivos txt no diretório atual
			a ocorrência da string
	-v <string>	Mostra tudo, menos a string (lógica invertida)
$cut		Vide cut.txt
		
$sed		Deleta linhas da saída padrão (ShellScript Aula9)
$diff <arquivo1> <arquivo2> Compara os dois arquivos e exibe mensagem se houver 
		diferença entre eles.
	$diff -r <diretório1> <diretório2> Para comparação de diretórios


********************************************************************************* 
COMANDOS DE DISCO 
$ls		Mostra os arquivos e pastas
$ls -l		Mostra o conteúdo na formda de lista
$ls -h		Mostra o tamanho dos aquivos em Kb, Mb ou Gb
$ls -a		Mostra os arquivos ocultos
$ls -lah	Mostra com detalhes e os arquivos ocultos
$ls -lah | more		Idem dir/p
$ls -lah > /home/leandro/lista.txt	grava a listagem em um arquivo txt
$find <diretório> <nome do arquivo ou diretório> Procura no disco
	$find <diretório> -name <nome do arquivo> Procura arquivo no disco
	$find <sintaxe do find> -exec <comando> {} \; Executa um comando 
					para cada linha encontrada no find
$cd <pasta>	Entra em uma pasta
$pwd		Mostra o caminho da pasta onde você está (ditetório atual)
$cd ..		Sai da pasta (notar o espaço entre cd e ..)
$cd -		Retorna ao diretório anterior
$mkdir <pasta>	Cria uma pasta no local atual
	$mkdir "Pasta teste"	Para não criar duas pastas (Pasta e teste)
	$mkdir -p ~/Rock/Classico	Cria uma árvore de diretórios
$rm -rf	<nome da pasta ou arquivo> 	Remove uma pasta ou arquivo
    -i					Pergunta antes de remover
$rmdir <nome do diretório>	Remove somente diretórios vazios
$cp <origem> <destino>	Executa uma cópia de um arquivo

$scp <arquivo> <usuário_destino>@<IP destino>:<caminho destino> 
			Transfere arquivo via ssh.			

$mv arq1.txt arq2.txt	Cria uma cópia de arq1.txt como arq2.txt no mesmo diretório
    -r			Para cópia de diretírios.

$mv <origem> <destino>	Move de um arquivo ou diretório
$mv arq1.txt arq2.txt	Renomeia arq1.txt para arq2.txt 
$scp <origem> <usuário>@<IP>:<destino>	Executa uma cópia de um arquivo na rede
					habilitar o serviço ssh antes
	$scp teste.txt root@192.168.1.100:/home/Leandro
$whereis <comando>	Informa o diretório de localização do comando

$ln -s <target file/directory> <Symbolic filename>	Cria um link simbólico
$ln -nsf <target file/directory> <Symbolic filename>	Edita um link simbólico já existente

*********************************************************************
COMANDOS DE HARDWARE
$lsusb		Lista os periféricos conectados a porta usb



$fdisk -l	Para mostrar as tabelas de formatação do disco
$mkfs.<tipo> <caminho>	Para escolher o padrão de alocação de dados
	<tipo> = ntfs, xfs, ext4, etc...
	$mkfs.ext4 dev/sdb1
$df -h	Retorna lista dos dispositivos e partições montadas
$mount	Retorna informação dos sistemas de arquivos montados	
$mount -t <tipo> <caminho do dispositivo> <caminho para montagem>
Executa a montagem do dispositivo ou partição
	$mount -t ext4 dev/sdb1 mnt/hd_01

$lprm -		Esse é o comando mais conhecido e que limpa a fila de impressão de uma vez só, sem 			lhe dar opção de escolher o que deletar.
$lpq -a		Serve para mostrar os trabalhos em todas as filas de impressão do sistema.
$lpstat -p -d	Mostra os nomes das impressoras e a impressora padrão (ativa)
$lp <opções> <entrada> 	Imprime na impressora padrão. O campo entrada pode ser um arquivo ou a saída de 
			outro comando com o concatenador "|"
		<opções>:
		-n 2	Imprime duas cópias
		-P 1,3	Imprime página 1 e 3
		-d <nome da impressora>	Imprime em outra impressora
			
************************************* ARQUIVO FSTAB ***********************************************
OBS.: 	Editar o arquivo etc/fstab e inserir as linhas para montagem
	automática quando o Sist. Op. é iniciado, conforme abaixo:
<caminho do dispositivo> <ponto de montagem> <tipo> <opção> <parâmetros de verificação integridade>
/dev/sdb1	/mnt/hd_01	ext4	defauts		0	0

1) O caminho do dispositivo pode ser substituído por seu ID utilizando o comando
blkid. O blkid gera um código único para cada dispositivo (serial number), assim, 
o dispositivo será montado na mesma pasta mesmo que seja conectado em outra porta 
da placa mãe.
#blkid <caminho do dispositivo>

2) <opção>
defaults - padrão
noexec - não dá permissão de execução de programas
noatime - desabilita opção de atualização de data e hora de modificação do arquivo
É possivel concatenar separando por vírgula: noexec,noatime

3) <parâmetros de verificação integridade>
Primeira coluna:
0 - backup desabilitado
1 - backup habilitado

Segunda coluna:
0 - verificação de integridade desabilitada
2 - verificação no boot
***************************************************************************************************

$unmount <ponto de montagem>	Desmonta o disposito montado
	$unmount mnt/hd_01
$fsck.<tipo> <caminho do dispositivo>	Para verificação da unidade (antes é 
					necessário a desmontagem)
	$fsck.ext4 /dev/sdb1
$crontab	Agendador de tarefas

********************************************************************************************
COMANDOS COMPLEMENTARES
|more	Usado para paginar as telas de resultados
|less	Usado para paginar as telas de resultados com mais opções de navegação
   /    Faz uma busca de cima para baixo
   ?    Faz uma busca de baixo para cima
   n    Próxima ocorrência da busca
   N    Ocorrência anterior da busca
   q    Sair
--help	Ajuda do comando.
$<nome do processo>&	Executa o processo em background
*******************************************************************************************
REDIRECIONAMENTO DE SAÍDA
>	Para redirecionar a saída de um comando para um arquivo (Sobrescreve se existir)
>>	Para redirecionar a saída de um comando para um arquivo (Se existir adiciona
	as linhas ao final)
2> ou 2>>  Faz a mesma coisa acima, porém direciona a saída de erro
<comando>|tee -a log.out	Redireciona a saída padrão para o arquivo log.out adicionando
				uma nova linha após cada execução (-a) e ainda mostra
				o resultado do comando na tela			

********************************************************************************************
VARIÁVEIS DE AMBIMENTE
$env		Mostra as variáveis da seção atual e de ambiente
$set		Mostra todas as variáveis (local e exportadas)

PATH	Informa os diretórios onde estão os programas executados diretamente pelo
	shell do Linux. Sem a nessecidade de navegação até a localização do referido
	programa.
$which <executável>	Procura se o executável está no path do sistema
echo $<variável>	Mostra o conteúdo de uma variável de ambiente

********************************************************************************************
CARACTERES CORINGA
*			Substitui uma sequência de caracteres incluindo vazio
?			Substitui 1 caractere, vazio não incluso
[char]			Substitui um caractere por uma sequência de caracteres que estiverem 
			dentro dos colchetes
[início-fim]		Substitui um caractere por um intervalo que estiver dentro dos colchetes
{string,string,...}	Substitui uma sequência de caracteres pelas strings entre chaves.
********************************************************************************************
COMPACTAÇÃO DE ARQUIVOS
Comando tar:
-Agrupar
tar cf <nome_do_arquivo.tar> <arquivos>	
tar czf <nome_do_arquivo.tgz ou tar.gz> <arquivos>  Agrupa já compactando
-Listar os arquivos compactados
tar tf <nome_do_arquivo.tar>
-Extrair os arquivos
tar xf <nome_do_arquivo.tar>
tar xzf <nome_do_arquivo.tgz ou tar.gz>
Obs: Opção "v" para mostrar o processo

Comando zip:
zip <nome_no_arquivo> <arquivos>	Compacta os arquivos
	$zip Aquivo_Comp *		Compacta todos os arquivos da pasta
zipinfo <nome_no_arquivo.zip>		Vê o conteúdo do arquivo zip
unzip -l <nome_no_arquivo.zip>		Vê o conteúdo do arquivo zip
zip <nome_no_arquivo> -d <arquivos>	Deleta os arquivos contidos dentro do zip
zip <nome_no_arquivo> -r <caminho da pasta>	Compacta uma pasta
unzip <nome_no_arquivo.zip>		Descompacta o arquivo .zip

********************************************************************************************
CONTROLE DE PROCESSOS
$ps  [opções] 	Mostra os processos
	u	Mostra 	o usuário e consumo da CPU por processo
	x	Mostra todos os processos do usuário (incluindo  da interface gráfica)
	a	Mostra os processos de todos os usuários

$pgrep <nome do processo>     Retorna o(s) PID(s) do processo
$kill -l		      Lista o nome dos sinais
$kill <PID do processo>	      Encerra um processo com a permissão do mesmo
$kill -9 <PID do processo>    Encerra um processo de forma abrupta
$pkill <nome do processo>     Encerra um processo com a permissão do mesmo
$pkill -9 <nome do processo>  Encerra um processo de forma abrupta

$jobs		Lista os processos parados pelo usuário (para parar um processo
		usa-se CTRL^Z)

$fg <número do processo parado>		Retoma um processo parado, o número do
					processo é retornado com o comando jobs.

GERENCIAMENTO DE SERVIÇOS (Servidor de e-mail, html, etc... )
$systemctl status <nome do serviço>
$systemctl stop <nome do serviço>
$systemctl start <nome do serviço>
$systemctl restart <nome do serviço>
********************************************************************************************
GERENCIAMENTO DO SISTEMA
$uname -p	Mostra o processador da máquina
$reboot		Reinicia o computador
$poweroff	Desliga o sistema operacional
$shutdown <hora>	Desliga o sistema operacional na hora indicada

********************************************************************************************
GERENCIAMENTO DE PACOTES
Padrão Debian
$dpkg -l	Lista os pacotes instalados
$dpkg -l <nome do pacote> Lista se o pacote está instalado
$dpkg -i <nome_do_pacote.deb> Instala um pacote baixado
$dpkg -P <nome_do_pacote.deb> Remove completamente o pacote instalado
      -s		      Remove mas mantém arquivos de configuração
$dpkg -b <nome da pasta>      Compila o pacote em .deb

Instala um pacote baixado ".deb" e resolve as dependências caso ocorram
$sudo dpkg -i <caminho ou nome do arquivo .deb>
$sudo apt-get install -f	Para resolver as dependências -f(fix)
$sudo apt-get install -y	Instala sem perguntar

Muda o gerenciador de seção (tela de login)
$sudo dpkg-reconfigure <gerenciador de seção atual>	
   OBS: Para saber o gerenciador de seção atual veja o conteúdo do
	arquivo /etc/X11/default-display-manager
	Ex: $cat /etc/X11/default-display-manager
	    /usr/sbin/gdm3
	O gerenciador atual é o gdm3.	
		

$apt-get update		Atualiza a lista de reposiórios do apt-get
$apt-get upgrade	Atualiza todos os pacotes instalados	
$apt-get upgrade <nome da aplicação>	Atualiza o pacote informado
$apt-get remove <nome da aplicação>	Remove a aplicação

Padrão Red Hat
$rpm -qa	Lista todos pacotes instalados
$rpm -qa <nome do pacote> Lista se o pacote está instalado
$rpm -qi <nome do pacote> Informações do pacote indicado (Verifica se o pacote está instalado)
$rpm -ivh <nome do pacote> Instala um pacote baixado
$rpm -evh <nome_do_pacote.deb> Remove completamente o pacote instalado
     -v	  Verbose - Mostra detalhes do andamento
     -h   Hash - Mostra a barra de andamento (##### [x%])

yum ou dnf
$yum update	Atualiza todos os pacotes
$yum update <nome da aplicação>	Atualiza o pacote informado
$yum upgrade	Atualiza todos os pacotes e remove os obsoletos	
$yum install <nome do pacote> 	Instala o pacote do repositório
$yum remove <nome do pacote> 	Remove o pacote
********************************************************************************************
GERENCIAMENTO DE USUÁRIOS
$su		Troca para o usuário root (digitando a senha do root)(Antes definir a senha do 			root)
$sudo su 	Troca para o usuário root (digitando a do usuário atual)(Para Ubunto)
$whoami		Qual o usuário que está logado?
$useradd -m <nome do usuario>
$userdel <nome do usuario> 	Remove o usuário 
$userdel -r <nome do usuario> 	Remove o usuário e sua pasta home(-r)
$usermod -c "<string>"  Modifica o comentário do usurário (etc/passwd)
$usermod -s /bin/bash <nome usuário> Muda o shell padrão para o bash (bud do Ubuntu)
$passwd <nome do usuario> Troca a senha do usuário (necessita estar como root)

PERMISSÕES DE ACESSO COMANDO CHMOD
Exemplo de visão do comando ls
-rw-r--r-- ricardo ricardo  <informações> <nome do arquivo>
0111222333
0: - ou l : arquivo comum(-) ou link(l)
r - read
w - write
x - execute
111: permissões do usuário
222: permissões do grupo do usuário
333: permissões dos demais usuários
Comando $chmod [opções]
opções:
u - user
g - group
o - other (outros)
a - all
Exemplo: 
1.Colocar permissão de escrita para o grupo
$chmod g+w <nome do arquivo>
2.Remover permissão de leitura para outros usuários
$chmod o-l <nome do arquivo>
3.Exemplo concatenando
chmod go-l <nome do arquivo>

chmod em opção de octal
0 0 0 -> 0 -> nenhuma permissão
0 0 1 -> 1 -> apenas execução
0 1 0 -> 2 -> apenas escrita
0 1 1 -> 3 -> escrita e execução
1 0 0 -> 4 -> apenas leitura
1 0 1 -> 5 -> leitura e execução
1 1 0 -> 6 -> leitura e escrita
1 1 1 -> 7 -> leitura, execução e escrita 
Ex. chmod 755 <nome do arquivo/pasta>


MUDANÇA DE DONO DO ARQUIVO
$chown <nome do usuário> <nome do arquivo>  Muda o dono do arquivo
$chown <nome do usuário>:<nome do grupo> <nome do arquivo>  Muda o dono e o grupo do arquivo
$chown :<nome do grupo> <nome do arquivo>  Muda o grupo dono do arquivo

********************************************************************************************
VERSIONADOR GITHUB (GIT)
$git clone <link do github>	Faz o download do repositório Git
$git add . 			Adiciona todos os arquivos alterados
$git commit -m "<comentário>"	Adiciona o comentário da atualização
$git push			Sobe os arquivos para o GitHub
$git pull			Atualiza o repositório local com a versão mais nova
				do repositório no git
$git rm <nome do arquivo>	Remove o arquivo do repositório
********************************************************************************************


	
 














											
